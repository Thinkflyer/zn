<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link href="./css/mui.listpicker.css" rel="stylesheet" />
		<link href="./css/mui.poppicker.css" rel="stylesheet" />		
		<script src="./js/config.js"></script>
		<script src="./js/mui.view.js "></script>
		<script src="./js/mui.listpicker.js"></script>
		<script src="./js/mui.poppicker.js"></script>
		<style>
			html,
			body {
				background-color: #ffffff;
			}
			
			.mui-views,
			.mui-view,
			.mui-pages,
			.mui-page,
			.mui-page-content {
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
				height: 100%;
				background-color: #FFFFFF;
			}
			
			.mui-pages {
				top: 30px;
				height: auto;
			}
			
			.mui-switch-blue.mui-active {
				background-color: #832F32;
				border: 2px solid #832F32;
			}
			
			.mui-pages {
				top: 46px;
				height: auto;
			}
			
			.mui-scroll-wrapper,
			.mui-scroll {
				background-color: #FFFFFF;
			}
			
			.mui-page.mui-transitioning {
				-webkit-transition: -webkit-transform 200ms ease;
				transition: transform 200ms ease;
			}
			
			.mui-page {
				display: none;
			}
			
			.mui-pages .mui-page {
				display: block;
			}
			
			.mui-table-view-cell::after {
				left: 5px;
				right: 5px;
			}
			
			.mui-table-view::after {
				left: 5px;
				right: 5px;
			}
		</style>
	</head>

	<body>
		<!--页面主结构开始-->
		<div id="app" class="mui-views">
			<div class="mui-view">
				<div class="mui-navbar">
				</div>
				<div class="mui-pages">
				</div>
			</div>
		</div>
		<!--页面主结构结束-->
		<!--单页面开始-->
		<div id="setting" class="mui-page">
			<!--页面标题栏开始-->
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button class="mui-btn mui-btn-link mui-btn-nav mui-pull-left">
					<div class="kele mui-action-back mui-icon-back">返回</div>
				</button>
				<h1 class="mui-center mui-title">设置</h1>
			</div>
			<!--页面标题栏结束-->
			<!--页面主内容区开始-->
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<ul class="mui-table-view mui-table-view-chevron">
							<li class="mui-table-view-cell">
								<a id="rate" class="mui-navigate-right" href="#notifications_disturb">信息<p>会员权益,条款和隐私权利</p></a>

							</li>
							<li class="mui-table-view-cell">
								<a id="sync" class="mui-navigate-right" href="#sync_data">同步我的设备<p>同步最新信息到手机上,以便离线时阅读</p></a>

							</li>
							<li class="mui-table-view-cell">
								<a id="language" class="mui-navigate-right" href="#language_setting">内容设置<p>更改预警信息和国家捣烂显示语言</p></a>

							</li>

						</ul>

					</div>
				</div>
			</div>
			<!--页面主内容区结束-->
		</div>
		<div id="notifications_disturb" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button class="mui-btn mui-btn-link mui-btn-nav mui-pull-left">
					<div class="kele mui-action-back mui-icon-back">返回</div>
				</button>
				<h1 class="mui-center mui-title">信息</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell ">
							<a class="mui-navigate-right" linkurl="detail.html" type="page" open-sid="12">会员权益 </a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" linkurl="detail.html" type="page" open-sid="4">条款及细则</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" linkurl="detail.html" type="page" open-sid="13">隐私政策</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div id="sync_data" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button class="mui-btn mui-btn-link mui-btn-nav mui-pull-left">
					<div class="kele mui-action-back mui-icon-back">返回</div>
				</button>
				<h1 class="mui-center mui-title">同步设置</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-input-row" style="padding-top:20px;">
						<div id="autoLogin" class="mui-switch mui-switch-blue mui-active">
							<div class="mui-switch-handle"></div>
						</div>
						<h4>开启时同步</h4>
						<p>根据您的网路连接状况,本应用程序在开启时会自动同步最新的信息. 建议您在出行前,能完成同步</p>
					</div>
					<div class="mui-input-row">
						<button id='reg' class="btn-color mui-btn-block ">立即同步</button>
					</div>

				</div>
			</div>
		</div>

		<div id="language_setting" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button class="mui-btn mui-btn-link mui-action-back mui-btn-nav mui-pull-left">
					<div class="kele  mui-icon-back">返回</div>
				</button>
				<h1 class="mui-center mui-title">内容设置</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-input-row" style="padding-top:10px;">
						<h4 style="line-height:25px">选择内容显示语言;部分内容可能无法以您选择的语言显示</h4>
						<p>如果更改界面语言,请重新设置您的定位</p>
					</div>
					<div class="mui-input-row">
						<button id='changeLanguage' class="mui-btn-block" type='button'>请选择语种 ...</button>
					</div>

				</div>
			</div>
		</div>
	</body>
	<script>
		(function($, doc) {
			$.init();
			var viewApi = mui('#app').view({
				defaultPage: '#setting'
			});
			//初始化单页的区域滚动
			$('.mui-scroll-wrapper').scroll();
			//锁屏设置
			var view = viewApi.view;
			var str = "";
			$.plusReady(function() {
				var state = app.getState();
				doc.getElementById('changeLanguage').innerText = state.language;
				//普通示例
				var userPicker = new $.PopPicker();
				app.get_language_info(function(e) {
					userPicker.setData(e);
				});
				doc.getElementById('changeLanguage').addEventListener('tap', function(event) {
					userPicker.show(function(items) {
						doc.getElementById('changeLanguage').innerText = items[0].text;
						//设置语种类型
						app.setLanguage(items[0].text);
					});
				}, false);
				var oldBack = $.back;
				$.back = function() {
					if (viewApi.canBack()) { //如果view可以后退，则执行view的后退
						viewApi.back();
					} else { //执行webview后退
						oldBack();
					}
				};
				//*兼容链接跳转*/
				$('#notifications_disturb').on('tap', 'a', function() {
					var type = this.getAttribute("open-type");
					var linkurl = this.getAttribute('linkurl');
					var sid = this.getAttribute('open-sid');
					$.openWindow({
						id: linkurl,
						url: linkurl,
						waiting: {
							autoShow: true,
							title: '正在加载...', //等待对话框上显示的提示内容
						},
						show: {
							aniShow: 'pop-in',
							autoShow: false
						},
						styles: {
							zindex: 1,
						},
						extras: {
							sid: sid,
							type: type
						}
					});
				});
			});
		}(mui, document));
	</script>

</html>